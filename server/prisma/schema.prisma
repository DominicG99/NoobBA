// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Player {
  player_id           Int                   @id @default(autoincrement())
  first_name          String
  last_name           String
  college             String?
  jerseyNumber        Int[]
  height              String
  weight              Int
  shootingHand        String
  careerLength        Int
  team                Team?                 @relation(fields: [team_id], references: [id])
  team_id             Int?
  draftTeam           String
  positions           String[]
  accolades           String?
  allStarCount        Int?
  championships       Int?
  careerStats         CareerStats?
  advancedCareerStats CareerAdvancedStats?
  seasonStats         SeasonStats[]
  advancedSeasonStats SeasonAdvancedStats[]
  picture             String
}

model Team {
  id              Int        @id @default(autoincrement())
  team_name       String
  short_name      String
  city            String
  state           String
  country         String
  players         Player[]
  conference      Conference @relation(fields: [conference_name], references: [conference_name])
  conference_name String
}

model Conference {
  conference_name String @id
  teams           Team[] // One-to-many relationship}
}

model CareerStats {
  player_id    Int    @id
  player       Player @relation(fields: [player_id], references: [player_id])
  gamesPlayed  Int
  gamesStarted Int
  mpg          Float
  fgm          Int
  fga          Int
  threePM      Int
  threePA      Int
  twoPM        Int
  twoPA        Int
  ftm          Int
  fta          Int
  orb          Int
  drb          Int
  trb          Int
  ast          Int
  stl          Int
  bpg          Float
  tnv          Float
  fouls        Int
  ppg          Float
}

model SeasonStats {
  season_id    String
  age          Int
  player_id    Int
  gamesPlayed  Int
  gamesStarted Int
  mpg          Float
  fgm          Int
  fga          Int
  threePM      Int
  threePA      Int
  twoPM        Int
  twoPA        Int
  ftm          Int
  fta          Int
  orb          Int
  drb          Int
  trb          Int
  ast          Int
  stl          Int
  bpg          Float
  tnv          Float
  fouls        Int
  ppg          Float
  season       Season @relation(fields: [season_id], references: [season])
  player       Player @relation(fields: [player_id], references: [player_id])

  @@id([season_id, player_id])
}

model Season {
  season              String                @id
  mvp                 String
  dpoy                String
  roy                 String
  mip                 String
  smoy                String
  PlayerStats         SeasonStats[]
  PlayerAdvancedStats SeasonAdvancedStats[]
}

model CareerAdvancedStats {
  player_id    Int    @id
  player       Player @relation(fields: [player_id], references: [player_id])
  per          Int
  tsPct        Float
  fg3PerFgaPct Float
  ftr          Float
  orbPct       Float
  drbPct       Float
  trbPct       Float
  astPct       Float
  stlPct       Float
  blkPct       Float
  tovPct       Float
  usgPct       Float
  ows          Float
  dws          Float
  ws           Float
  wsPer48      Float
  obpm         Float
  dbpm         Float
  bpm          Float
  vorp         Float
}

model SeasonAdvancedStats {
  season_id    String
  age          Int
  player_id    Int
  per          Int
  tsPct        Float
  fg3PerFgaPct Float
  ftr          Float
  orbPct       Float
  drbPct       Float
  trbPct       Float
  astPct       Float
  stlPct       Float
  blkPct       Float
  tovPct       Float
  usgPct       Float
  ows          Float
  dws          Float
  ws           Float
  wsPer48      Float
  obpm         Float
  dbpm         Float
  bpm          Float
  vorp         Float
  season       Season @relation(fields: [season_id], references: [season])
  player       Player @relation(fields: [player_id], references: [player_id])

  @@id([season_id, player_id])
}
