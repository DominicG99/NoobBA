// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DB_URI")
  directUrl = env("DIRECT_URI")
}

model Player {
  player_id   Int           @id @default(autoincrement())
  first_name  String
  last_name   String
  team        Team          @relation(fields: [team_id], references: [id])
  team_id     Int
  careerStats CareerStats?
  seasonStats SeasonStats[]
}

model Team {
  id              Int        @id @default(autoincrement())
  team_name       String
  short_name      String
  city            String
  state           String
  country         String
  players         Player[]
  conference      Conference @relation(fields: [conference_name], references: [conference_name])
  conference_name String
}

model Conference {
  conference_name String @id
  teams           Team[] // One-to-many relationship}
}

model CareerStats {
  player_id    Int    @id
  player       Player @relation(fields: [player_id], references: [player_id])
  gamesPlayed  Int
  gamesStarted Int
  mpg          Float
  fgm          Int
  fga          Int
  threePM      Int
  threePA      Int
  twoPM        Int
  twoPA        Int
  ftm          Int
  fta          Int
  orb          Int
  drb          Int
  trb          Int
  ast          Int
  stl          Int
  bpg          Float
  tnv          Float
  fouls        Int
  ppg          Float
}

model SeasonStats {
  season       String @id
  player_id    Int
  player       Player @relation(fields: [player_id], references: [player_id])
  gamesPlayed  Int
  gamesStarted Int
  mpg          Float
  fgm          Int
  fga          Int
  threePM      Int
  threePA      Int
  twoPM        Int
  twoPA        Int
  ftm          Int
  fta          Int
  orb          Int
  drb          Int
  trb          Int
  ast          Int
  stl          Int
  bpg          Float
  tnv          Float
  fouls        Int
  ppg          Float
}
